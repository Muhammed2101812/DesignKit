# ============================================
# DESIGN KIT - Environment Variables
# ============================================
#
# Instructions:
# 1. Copy this file to .env.local: cp .env.example .env.local
# 2. Fill in your actual values
# 3. NEVER commit .env.local to git
#
# Security Notes:
# - Variables prefixed with NEXT_PUBLIC_ are exposed to the browser
# - All other variables are server-side only
# - Keep service role keys and secrets secure
#
# ============================================

# --------------------------------------------
# Application
# --------------------------------------------

# App URL (used for redirects, emails, etc.)
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME="Design Kit"

# Environment
NODE_ENV=development

# --------------------------------------------
# Supabase (Backend & Authentication)
# --------------------------------------------
# Get these from: https://app.supabase.com/project/_/settings/api

# Supabase Project URL (safe for client-side)
NEXT_PUBLIC_SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co

# Supabase Anonymous Key (safe for client-side)
# This key has limited permissions defined by RLS policies
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxx

# Supabase Service Role Key (SERVER-SIDE ONLY - NEVER EXPOSE)
# This key bypasses RLS - use with extreme caution
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxx

# --------------------------------------------
# Stripe (Payment Processing)
# --------------------------------------------
# Get these from: https://dashboard.stripe.com/apikeys

# Stripe Publishable Key (safe for client-side)
# Test key starts with pk_test_, Live key starts with pk_live_
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxx

# Stripe Secret Key (SERVER-SIDE ONLY)
# Test key starts with sk_test_, Live key starts with sk_live_
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxx

# Stripe Webhook Secret (SERVER-SIDE ONLY)
# Get from: https://dashboard.stripe.com/webhooks
# Create endpoint: https://yourdomain.com/api/stripe/webhook
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxx

# Stripe Price IDs (from Stripe Dashboard → Products)
# Create two subscription products and copy their price IDs
STRIPE_PREMIUM_PRICE_ID=price_xxxxxxxxxxxxx
STRIPE_PRO_PRICE_ID=price_xxxxxxxxxxxxx

# --------------------------------------------
# External API Services (API Tools)
# --------------------------------------------

# Remove.bg API Key (Background Remover)
# Get from: https://www.remove.bg/api
# Free tier: 50 images/month
# Required for: Background Remover tool
REMOVE_BG_API_KEY=your_removebg_api_key_here

# Replicate API Key (Image Upscaler)
# Get from: https://replicate.com/account/api-tokens
# Required for: Image Upscaler tool
REPLICATE_API_KEY=your_replicate_api_key_here

# --------------------------------------------
# Upstash Redis (Rate Limiting & Caching)
# --------------------------------------------
# Get from: https://console.upstash.com/
# Create a Redis database and copy the REST API credentials
# Required for: Rate limiting, session caching
# Optional in development, required in production

# Upstash Redis REST URL
UPSTASH_REDIS_URL=https://xxxxx.upstash.io

# Upstash Redis REST Token
UPSTASH_REDIS_TOKEN=xxxxxxxxxxxxxxxxxxxxx

# --------------------------------------------
# Analytics (Optional)
# --------------------------------------------

# Plausible Analytics Domain
# Get from: https://plausible.io/settings
# Leave empty to disable analytics
NEXT_PUBLIC_PLAUSIBLE_DOMAIN=

# --------------------------------------------
# Email Service (Resend)
# --------------------------------------------
# Get from: https://resend.com/api-keys
# Required for: Transactional emails (welcome, subscription, quota warnings)
# Optional - Supabase Auth handles authentication emails by default

# Resend API Key
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxx

# From Email Address (must be verified in Resend)
EMAIL_FROM=noreply@designkit.com

# Alternative: SendGrid (if using SendGrid instead of Resend)
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxx

# --------------------------------------------
# Sentry (Error Tracking & Monitoring)
# --------------------------------------------
# Get from: https://sentry.io/settings/projects/
# Required for: Production error tracking and monitoring
# Optional in development

# Sentry DSN (safe for client-side)
# Get from: Project Settings → Client Keys (DSN)
NEXT_PUBLIC_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# Sentry Auth Token (SERVER-SIDE ONLY)
# Get from: Settings → Auth Tokens
# Required for: Uploading source maps during build
SENTRY_AUTH_TOKEN=sntrys_xxxxxxxxxxxxxxxxxxxxx

# Sentry Organization Slug
# Get from: Organization Settings → General
SENTRY_ORG=your-org-slug

# Sentry Project Name
# Get from: Project Settings → General
SENTRY_PROJECT=design-kit

# Sentry Environment (optional)
# SENTRY_ENVIRONMENT=production

# Sentry Release (optional - auto-generated if not set)
# SENTRY_RELEASE=1.0.0

# --------------------------------------------
# Database (Optional - Supabase handles this)
# --------------------------------------------
# Only needed if you want direct database access

# Direct PostgreSQL connection string (optional)
# DATABASE_URL=postgresql://postgres:password@db.xxx.supabase.co:5432/postgres

# --------------------------------------------
# Authentication (Optional configurations)
# --------------------------------------------

# JWT Secret (if using custom auth)
# Only needed if NOT using Supabase Auth
# JWT_SECRET=your_very_long_random_secret_here_min_32_chars

# NextAuth Secret (if using NextAuth.js instead of Supabase Auth)
# NEXTAUTH_SECRET=your_nextauth_secret_here
# NEXTAUTH_URL=http://localhost:3000

# --------------------------------------------
# OAuth Providers (Optional)
# --------------------------------------------
# Configure in Supabase Dashboard → Authentication → Providers

# Google OAuth (optional)
# Get from: https://console.cloud.google.com/apis/credentials
# GOOGLE_CLIENT_ID=xxxxx.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=xxxxx

# GitHub OAuth (optional)
# Get from: https://github.com/settings/developers
# GITHUB_CLIENT_ID=xxxxx
# GITHUB_CLIENT_SECRET=xxxxx

# --------------------------------------------
# Feature Flags (Optional)
# --------------------------------------------

# Enable/disable features
# FEATURE_API_TOOLS=true
# FEATURE_WEBHOOKS=true
# FEATURE_TEAM_COLLABORATION=false

# --------------------------------------------
# Development Tools
# --------------------------------------------

# Disable telemetry
NEXT_TELEMETRY_DISABLED=1

# Enable verbose logging in development
# DEBUG=true

# Disable type checking during build (not recommended)
# SKIP_TYPE_CHECK=false

# --------------------------------------------
# Production-Only Variables
# --------------------------------------------
# These should only be set in production environment

# Rate limiting (production)
# RATE_LIMIT_ENABLED=true
# RATE_LIMIT_MAX_REQUESTS=100
# RATE_LIMIT_WINDOW_MS=60000

# File storage (production)
# FILE_STORAGE_PROVIDER=supabase
# FILE_STORAGE_BUCKET=user-files

# CDN URL (production)
# CDN_URL=https://cdn.designkit.com

# --------------------------------------------
# Testing (Development only)
# --------------------------------------------

# Test mode (skips real API calls)
# TEST_MODE=false

# Mock external APIs in development
# MOCK_REMOVE_BG=true
# MOCK_REPLICATE=true

# Test Stripe keys (use these for testing payments)
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_51xxxxx
# STRIPE_SECRET_KEY=sk_test_51xxxxx
# STRIPE_WEBHOOK_SECRET=whsec_test_xxxxx

# ============================================
# END OF CONFIGURATION
# ============================================
#
# Quick Setup Checklist:
# ☐ Supabase project created and keys added
# ☐ Stripe account created and products configured
# ☐ Database schema deployed (run SQL from DesignKit_plan.md)
# ☐ Authentication providers enabled in Supabase
# ☐ Webhook endpoint configured in Stripe
# ☐ (Optional) External API keys for Remove.bg & Replicate
# ☐ (Optional) Upstash Redis for rate limiting
# ☐ (Optional) Plausible Analytics domain configured
#
# Security Reminders:
# ⚠️  NEVER commit .env.local to git
# ⚠️  Add .env.local to .gitignore
# ⚠️  Rotate keys if accidentally exposed
# ⚠️  Use different keys for development/production
# ⚠️  Keep service role keys server-side only
#
# For more details, see:
# - README.md (Setup Instructions)
# - docs/security-guidelines.md (Security Best Practices)
# ============================================
